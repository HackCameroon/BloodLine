<!-- Navbar -->
<div class="w3-top">
  <div class="w3-bar w3-red w3-card w3-left-align w3-large">
    <a class="w3-bar-item w3-button w3-hide-medium w3-hide-large w3-right w3-padding-large w3-hover-white w3-large w3-red" 
    routerLink ="javascript:void(0);" onclick="myFunction()" title="Toggle Navigation Menu"><i class="fa fa-bars"></i></a>
    <a routerLink ="/" class="w3-bar-item w3-button w3-padding-large w3-hover-white">Home</a>
    <a routerLink ="/Info" class="w3-bar-item w3-button w3-hide-small w3-padding-large w3-hover-white">Info</a>
    <a routerLink ="/scheduleappointment" class="w3-bar-item w3-button w3-hide-small w3-padding-large w3-white">Book Appoinment</a>
    <a routerLink ="/manageappointment" class="w3-bar-item w3-button w3-hide-small w3-padding-large w3-hover-white">Manage Appointment</a>
    <a routerLink ="/Login" class="w3-bar-item w3-button w3-hide-small w3-padding-large w3-hover-white">Login</a>
    <a routerLink ="/ViewAccount" class="w3-bar-item w3-button w3-hide-small w3-padding-large w3-hover-white">My Account</a>
  </div>

  <!-- Navbar on small screens -->
  <div id="navDemo" class="w3-bar-block w3-white w3-hide w3-hide-large w3-hide-medium w3-large">
      <a routerLink ="/Info" class="w3-bar-item w3-button w3-padding-large">Info</a>
      <a routerLink ="/scheduleAppointment" class="w3-bar-item w3-button w3-padding-large">Book Appoinment</a>
      <a routerLink ="/manageappointment" class="w3-bar-item w3-button w3-padding-large">Manage Appointment</a>
      <a routerLink ="/MyAccount" class="w3-bar-item w3-button w3-padding-large">Login</a>
      <a routerLink ="/ViewAccount" class="w3-bar-item w3-button w3-padding-large">My Account</a>
  </div>
</div>

<header class="w3-container w3-red w3-center" style="display: block; margin-top: 30px;">
  <h1 class="w3-margin w3-jumbo w3-animate-opacity">Schedule Appointment</h1>
</header>

<mat-vertical-stepper linear>
  <ng-template matStepperIcon="edit">
    <mat-icon>done</mat-icon>
  </ng-template>

  <!--Center Step-->
  <mat-step [stepControl]="firstFormGroup">
    <form [formGroup]="firstFormGroup">
      <ng-template matStepLabel>Select Blood Donation Facility</ng-template>
      <agm-map [latitude]="latitude" [longitude]="longitude" [zoom]="9" [streetViewControl]='false' [restriction]="restriction">
        <agm-marker *ngFor="let marker of coordinates; let i = index" [latitude]="marker.latitude" [longitude]="marker.longitude" (markerClick)="setSelect(i)"></agm-marker>
      </agm-map>
      <mat-form-field id="centerSelect">
        <mat-select matNativeControl placeholder="Select Blood Donation Facility" formControlName="center" [(ngModel)]="selectedOption" required>
          <mat-option *ngFor="let center of centers" [value]="center.value">{{center.viewValue}}</mat-option>
        </mat-select>
      </mat-form-field>
      <div>
        <button mat-raised-button matStepperNext color="primary">Next</button>
      </div>
    </form>
  </mat-step>
  
  <!--Date Step-->
  <mat-step [stepControl]="secondFormGroup">
    <form [formGroup]="secondFormGroup">
      <ng-template matStepLabel>Select Date</ng-template>
      <mat-card id="calander">
        <mat-calendar [dateFilter]="dateFilter" [minDate]="minDate" [selected]="selectedDate" (selectedChange)="onSelectCalendar($event)"></mat-calendar>
      </mat-card>
      <mat-form-field id="dateinput">
        <input matInput formControlName="date" readonly="true" required>
      </mat-form-field>
      <div>
        <button mat-raised-button matStepperPrevious color="primary">Back</button>
        <button mat-raised-button matStepperNext color="primary">Next</button>
      </div>
    </form>
  </mat-step>

  <!--Time Step-->
  <mat-step [stepControl]="thirdFormGroup">
    <form [formGroup]="thirdFormGroup">
      <ng-template matStepLabel>Select Time</ng-template>
      <mat-form-field>
        <mat-select formControlName="time" required>
          <mat-option *ngFor="let time of times" [value]="time">{{time}}</mat-option>
        </mat-select>
      </mat-form-field>
      <div>
        <button mat-raised-button matStepperPrevious color="primary">Back</button>
        <button mat-raised-button matStepperNext color="primary">Next</button>
      </div>
    </form>
  </mat-step>

  <!--Done Step-->
  <mat-step>
    <ng-template matStepLabel>Done</ng-template>
    <mat-checkbox id="checkbox" (change)="changeCheck($event)" color="primary">I have not donated blood within the past 8 weeks.</mat-checkbox>
    <button [disabled]="disabledAgreement" mat-raised-button type="submit" color="primary" (click)="onSubmit()">Schedule Appoinment</button>
  </mat-step>
</mat-vertical-stepper>